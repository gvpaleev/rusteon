// Задание. Расчет ипотеки
// Анатолий взял ипотеку 2 млн руб на 20 лет под 12% годовых.
//
// Ежемесячно в конце месяца он должен возвращать тело кредита равными долями в размере 1/240 от суммы кредита и 1 процент на остаток задолженности.
//
// Напишите программу, которая рассчитает сколько Анатолий отдаст денег банку за обслуживание кредита (без учета возврата тела кредита).
//
// Подсказка:
// Сначала можно бездумно завести переменные для суммы кредита, периода, процента по ипотеке.
// Затем подумать и добавить переменную суммы оплаты за кредит остатка по кредиту.
// Ну и побежали циклом ежемесячно уменьшая тело кредита и запоминая сколько заплатили процентов.

fn main() {
    let total_loan = 2_000_000.0; // Сумма кредита (2 млн рублей)
    let years = 20; // Период кредита в годах
    let annual_rate = 0.12; // Годовая процентная ставка 12%
    let monthly_rate = annual_rate / 12.0; // Месячная процентная ставка

    let monthly_body_payment = total_loan / 240.0; // Ежемесячный платеж по телу кредита
    let mut remaining_loan = total_loan; // Остаток по кредиту
    let mut total_interest_paid = 0.0; // Сумма уплаченных процентов

    // Цикл для 240 месяцев (20 лет)
    for month in 1..=240 {
        let interest_payment = remaining_loan * monthly_rate; // Проценты за месяц
        total_interest_paid += interest_payment; // Добавляем проценты к общей сумме
        remaining_loan -= monthly_body_payment; // Уменьшаем оставшийся долг на сумму тела кредита

        // Печатаем для каждого месяца (не обязательно, но может быть полезно для отладки)
        println!(
            "Месяц {}: Проценты = {:.2} руб, Оставшийся долг = {:.2} руб",
            month, interest_payment, remaining_loan
        );
    }

    println!(
        "\nОбщая сумма уплаченных процентов за все время: {:.2} руб",
        total_interest_paid
    );
}
